#!/usr/bin/env bash
# Sets up a web server using nginx, listening on port 80 and serving "Hello World!"

# Exit script on error
set -e

echo "Updating package list..."
apt-get update -y -qq

echo "Installing Nginx..."
apt-get install nginx -y

echo "Starting Nginx..."
service nginx start

echo "Allowing HTTP traffic through firewall..."
ufw allow 'Nginx HTTP' || true

echo "Configuring web page..."
echo "Hello World!" > /var/www/html/index.html

echo "Restarting Nginx..."
service nginx restart

echo "Setup complete."
